<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">

<html>
<head>
	<title>bweoscil</title>
	 <LINK REL="stylesheet" TYPE="text/css" HREF="../manual.css" TITLE="formal">
</head>

<body bgcolor="white">
<!--
[[table  align="right" cellpadding="1" cellspacing="1" border="0"]]
	[[tr]]
		[[td width="45" align="right"]]
			[[a href="../manual2.htm#contents" target="_parent"]][[img src="../toc.gif" width="38" height="18" alt="Use Non-Frames Version" border="0"]][[/a]]
		[[/td]]
		[[td width="10"]][[/td]]
		[[td width="45" align="right"]]
			[[a href="guiro.htm"]][[img src="../prev.gif" width="38" height="18" alt="Previous Page" border="0"]][[/a]]
		[[/td]]
		[[td width="45" align="right"]]
			[[a href="pvread.htm"]][[img src="../next.gif" width="38" height="18" alt="Next Page" border="0"]][[/a]]
		[[/td]]
	[[/tr]]
[[/table]]
-->
Signal Generators: Bandwidth-Enhanced Additive Resynthesis

<hr size="1" color="#A9A9A9" noshade>

<h2>bweoscil</h2>
<pre>
  ar      <strong>bweoscil</strong>       ktimpnt, ifilcod, kampenv, kfreqenv, kbwenv[, ifadetime]
</pre>
<hr size="2" color="#A9A9A9" noshade>

<h3>Description</h3>

<p>Output of <strong>bweoscil</strong> is a sum of a set of individualy specified bandwidth 
enhanced partials that have their amplitude, frequency, bandwidth and phase 
specified over time.  These parameters are specified in a .sdif file, that 
will be read in, at specific points in time, breakpoints, and the parameters 
are interpolated between breakpoints.
</p>

<h3>Initialization</h3>

<p><em>ifilcod</em> &#8211; integer or character-string denoting a control-file derived from analysis of an audio signal. An integer denotes the suffix of a file <em>loris</em>; a character-string (in double quotes) gives a filename, optionally a full pathname. If not fullpath, the file is sought first in the current directory, then in the one given by the environment variable <a href="../syntax/dirfiles.htm"><strong>SADIR</strong></a> (if defined).  <strong>bweoscil</strong> control contains breakpoint amplitude, frequency,
noisiness, and phase envelope values organized for additive resynthesis. Memory usage depends on the size of the files involved, which are read and held entirely in memory during computation but are shared by multiple calls. For more information about <em>Bandwidth-Enhanced Additive Synthesis</em>, <em>Reassigned Bandwidth-Enhanced Additive Model</em>, and <strong>Loris</strong>, visit the Loris web site at <a href="www.cerlsoundgroup.org/Loris/">www.cerlsoundgroup.org/Loris/</a>
</p>
<p><em>ifadetime</em> (optional) &#8211; Can be used if the total sounds or individual 
partials have sharp attacks or decays to avoid "pops" and "clicks" that 
might be caused.  Causes partials to have to fade in at the begining of a 
partial and fade out at the end of the partial.  This is done by adding two 
more breakpoints in the partial, one before the start time of every partial 
and the other after the end time of every partial.  The additional 
breakpoints will be at partial start time - ifadetime and partial end time + 
ifadetime (in seconds) unless the partial start time is at 0 (sec) (in which 
case there will be no fade in) or unless start time - ifadetime < 0 (in 
which case the fade in breakpoint will be placed at 0 sec).  The additional 
breakpoints will have the same frequency, bandwidth, and phase as the start 
or end points respectively, but their amplitudes will be zero.  If no value 
is entered, this defaults to zero.
</p>

<h3>Performance</h3>
<p><strong>bweoscil</strong> implements signal reconstruction using Bandwidth-Enhanced Additive Synthesis. The control data stems from a precomputed analysis file stored in SDIF format. The passage of time through this file is specified by <em>ktimpnt</em>, which represents the time in seconds. <em>ktimpnt</em> must always be positive, but can move forwards or backwards in time, be stationary or discontinuous, as a pointer into the analysis file. <em>kfreqenv</em> is a control-rate transposition factor: a value of 1 incurs no transposition, 1.5 transposes up a perfect fifth, and .5 down an octave. <em>kampenv</em> is a control-rate scale factor that is applied to all partial amplitude envelopes. <em>kbwenv</em> is a control-rate scale factor that is applied to all partial bandwidth or noisiness envelopes.</p>

<p>This implementation of <strong>bweoscil</strong> was orignally written by Corbin Champion, with assistance from Kelly Fitz. It is based on the method of 
<em>Bandwidth-Enhanced Additive Synthesis</em> implemented in the <strong>Loris</strong> library for sound modeling and manipulation.
For more information about <em>Bandwidth-Enhanced Additive Synthesis</em>, <em>Reassigned Bandwidth-Enhanced Additive Model</em>, and <strong>Loris</strong>, visit the Loris web site at <a href="www.cerlsoundgroup.org/Loris/">www.cerlsoundgroup.org/Loris/</a>
</p>

<h3>Examples</h3>
<p>Example 1 (simple example)
</p>
<pre>
  ktime   <strong>linseg</strong>          0, p3, 2  ; time pointer, in seconds, into file
  a1      <strong>bweoscil</strong>        ktime, "clarinet.sdif", 1, 1, 1
</pre>
<p>The result will be the that partials will be played linearly over time and a 
clarinet tone of duration 2.0 seconds can be recreated.
</p>

<p>Example 2 (slightly more complex example)
</p>
<pre>
  idur      <strong>=</strong>             p3    ;  duration of instrument play
  ifadetime <strong>=</strong>             0.001 ;  partial fadetime of 1 millisecond (same as Loris)

  ktime     <strong>linseg</strong>        0, idur/2, 1.5, idur/2, 0  
                          ;  a linear time vector that will play the partials from 0 to 1.5 seconds over half the
                          ;  duration, and then in reverse from 1.5 to 0 seconds over the other half.

  kfreqenv  <strong>expseg</strong>        0.5, p3, 1  ;  frequency envelope
  kampenv   <strong>linen</strong>         1, idur/6, idur, idur/6  ;  amplitude envelope
  kbwenv    <strong>linseg</strong>        0, p3/2, 1, p3/2, 0  ;  bandwidth envelope

  a1        <strong>bweoscil</strong>      ktime, "clarinet.sdif", kampenv, kfreqenv, kbwenv, ifadetime  
                          ;  plays through the partials over the time vector
                          ;  ktime created, with the evelopes created and a
                          ;  partial fade time as given.
</pre>
<p>
The result would be the clarinet tone from the first exampled played at 
twice the speed through the partials forwards for half duration and reverse 
for the other half.  The partials are all modified by the krate envelopes 
applied.  In addition, each partial has been given a fadetime of 1ms, so 
they will fade in at the begining of each partial and fade out at the end.
</p>


<h3>Author</h3>
<p>Corbin Champion<br>
WSU, Pullman<br>
2002</p>


<hr size="2" color="#A9A9A9" noshade>
<!--
[[table  align="right" cellpadding="1" cellspacing="1" border="0"]]
	[[tr]]
		[[td width="45" align="right"]]
			[[a href="../manual2.htm#contents" target="_parent"]][[img src="../toc.gif" width="38" height="18" alt="Use Non-Frames Version" border="0"]][[/a]]
		[[/td]]
		[[td width="10"]][[/td]]
		[[td width="45" align="right"]]
			[[a href="guiro.htm"]][[img src="../prev.gif" width="38" height="18" alt="Previous Page" border="0"]][[/a]]
		[[/td]]
		[[td width="45" align="right"]]
			[[a href="pvread.htm"]][[img src="../next.gif" width="38" height="18" alt="Next Page" border="0"]][[/a]]
		[[/td]]
	[[/tr]]
[[/table]]
-->
Signal Generators: Bandwidth-Enhanced Additive Resynthesis
</body>

</html>
