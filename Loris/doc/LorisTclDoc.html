<html>
<head>
<title>
Tcl module: tcLoris</title>
<body bgcolor="#ffffff">
<h1>Tcl module: tcLoris - version 1.0</h1>

This document describes the functions and classes in the 
Tcl module <tt>loris</tt>. 


<hr><h1> Contents </h1>
<ul><li> <a href="#s1_">1. Loris class interfaces</a>
<ul>
<li> <a href="#s1_9_">1.1. class AiffFile</a>
<li> <a href="#s1_6_">1.2. class Analyzer</a>
<li> <a href="#s1_5_">1.3. class Breakpoint</a>
<li> <a href="#s1_7_">1.4. class BreakpointEnvelope</a>
<li> <a href="#s1_3_">1.5. class Partial</a>
<li> <a href="#s1_4_">1.6. class PartialIterator</a>
<li> <a href="#s1_1_">1.7. class PartialList</a>
<li> <a href="#s1_2_">1.8. class PartialListIterator</a>
<li> <a href="#s1_8_">1.9. class SampleVector</a>
</ul>
<li> <a href="#s2_">2. Non-object-based procedures</a>
</ul>

<a name="s1_">
<hr><h2>1. Loris class interfaces</h2></a>
<a name="s1_9_">
<h3>1.1. class AiffFile</h3></a>
	An AiffFile represents a sample file (on disk) in the Audio Interchange
	File Format. The file is read from disk and the samples stored in memory
	upon construction of an AiffFile instance. The samples are accessed by 
	the samples() method, which converts them to double precision floats and
	returns them in a SampleVector.
<p><tt><b>AiffFile name filename </b></tt>
<blockquote>  	Import an AIFF file with the specified file name
		or path.
	   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Delete this AIFF data (does not affect data on disk).
	   
</blockquote>

<p><tt><b>channels </b></tt>
<blockquote>  	Return the number of channels of sample data this AIFF file.
	   
</blockquote>

<p><tt><b>samples</b></tt>
<blockquote>  	Return a SampleVector containing the AIFF samples from this AIFF 
		file as double precision floats on the range -1,1.
	   
</blockquote>

<p><tt><b>sampleFrames</b></tt>
<blockquote>  	Return the number of frames of sample data this AIFF file.
	   
</blockquote>

<p><tt><b>sampleRate</b></tt>
<blockquote>  	Return the sample rate in Hz of the sample data this AIFF file.
	   
</blockquote>

<p><tt><b>sampleSize</b></tt>
<blockquote>  	Return the size in bits of the sample data this AIFF file.
	   
</blockquote>

<a name="s1_6_">
<h3>1.2. class Analyzer</h3></a>
	An Analyzer represents a configuration of parameters for
	performing Reassigned Bandwidth-Enhanced Additive Analysis
	of sampled waveforms. This analysis process yields a collection 
	of Partials, each having a trio of synchronous, non-uniformly-
	sampled breakpoint envelopes representing the time-varying 
	frequency, amplitude, and noisiness of a single bandwidth-
	enhanced sinusoid. <p>

	For more information about Reassigned Bandwidth-Enhanced 
	Analysis and the Reassigned Bandwidth-Enhanced Additive Sound 
	Model, refer to the Loris website: www.cerlsoundgroup.org/Loris/
	
<p><tt><b>Analyzer name resolutionHz windowWidthHz</b></tt>
<blockquote>  	Construct and return a new Analyzer configured with the given	
		frequency resolution (minimum instantaneous frequency	
		difference between Partials) and analysis window main 
		lobe width (between zeros). All other Analyzer parameters 	
		are computed from the specified resolution and window
		width. If the window width is not specified, or is 0,
		then it is assumed to be equal to the resolution. 	 			
	   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Destroy this Analyzer. 								
	   
</blockquote>

<p><tt><b>ampFloor</b></tt>
<blockquote>  	Return the amplitude floor (lowest detected spectral amplitude),  			
		in (negative) dB, for this Analyzer. 				
	   
</blockquote>

<p><tt><b>analyze vec srate</b></tt>
<blockquote>  	Analyze a SampleVector of (mono) samples at the given sample rate 	  	
		(in Hz) and return the resulting Partials in a PartialList. 												
	   
</blockquote>

<p><tt><b>bwRegionWidth</b></tt>
<blockquote>  	Return the width (in Hz) of the Bandwidth Association regions
		used by this Analyzer.<p>
	   
	   	This parameter is deprecated, and not generally useful. It will be
	   	removed in a future Loris release.
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Construct and return a new Analyzer having identical
		parameter configuration to another Analyzer.			
	   
</blockquote>

<p><tt><b>cropTime(</b></tt>
<blockquote>  	Return the crop time (maximum temporal displacement of a time-
		frequency data point from the time-domain center of the analysis
		window, beyond which data points are considered &quot;unreliable&quot;)
		for this Analyzer.<p>
	   
	   	This parameter is deprecated, and not generally useful. It will be
	   	removed in a future Loris release.
	   
</blockquote>

<p><tt><b>freqDrift</b></tt>
<blockquote>  	Return the maximum allowable frequency difference between 					
		consecutive Breakpoints in a Partial envelope for this Analyzer. 				
	   
</blockquote>

<p><tt><b>freqFloor</b></tt>
<blockquote>  	Return the frequency floor (minimum instantaneous Partial  				
		frequency), in Hz, for this Analyzer. 				
	   
</blockquote>

<p><tt><b>freqResolution</b></tt>
<blockquote>  	Return the frequency resolution (minimum instantaneous frequency  		
		difference between Partials) for this Analyzer. 	
	   
</blockquote>

<p><tt><b>hopTime</b></tt>
<blockquote>  	Return the hop time (which corresponds approximately to the 
		average density of Partial envelope Breakpoint data) for this 
		Analyzer.
	   
</blockquote>

<p><tt><b>sidelobeLevel</b></tt>
<blockquote>  	
Return the sidelobe attenutation level for the Kaiser analysis window in
positive dB. Larger numbers (e.g. 90) give very good sidelobe 
rejection but cause the window to be longer in time. Smaller numbers 
(like 60) raise the level of the sidelobes, increasing the likelihood
of frequency-domain interference, but allow the window to be shorter
in time.
</blockquote>

<p><tt><b>windowWidth</b></tt>
<blockquote>  	Return the frequency-domain main lobe width (measured between 
		zero-crossings) of the analysis window used by this Analyzer. 				
	   
</blockquote>

<p><tt><b>setAmpFloor x</b></tt>
<blockquote>  	Set the amplitude floor (lowest detected spectral amplitude), in  			
		(negative) dB, for this Analyzer. 				
	   
</blockquote>

<p><tt><b>setBwRegionWidth x</b></tt>
<blockquote>  	Set the width (in Hz) of the Bandwidth Association regions
		used by this Analyzer.<p>
	   
	   	This parameter is deprecated, and not generally useful. It will be
	   	removed in a future Loris release.
	   
</blockquote>

<p><tt><b>setCropTime x</b></tt>
<blockquote>  	Set the crop time (maximum temporal displacement of a time-
		frequency data point from the time-domain center of the analysis
		window, beyond which data points are considered &quot;unreliable&quot;)
		for this Analyzer.<p>
	   
	   	This parameter is deprecated, and not generally useful. It will be
	   	removed in a future Loris release.
	   
</blockquote>

<p><tt><b>setFreqDrift x</b></tt>
<blockquote>  	Set the maximum allowable frequency difference between 					
		consecutive Breakpoints in a Partial envelope for this Analyzer. 				
	   
</blockquote>

<p><tt><b>setFreqFloor x</b></tt>
<blockquote>  	Set the amplitude floor (minimum instantaneous Partial  				
		frequency), in Hz, for this Analyzer.
	   
</blockquote>

<p><tt><b>setFreqResolution x</b></tt>
<blockquote>  	Set the frequency resolution (minimum instantaneous frequency  		
		difference between Partials) for this Analyzer. (Does not cause 	
		other parameters to be recomputed.) 									
	   
</blockquote>

<p><tt><b>setHopTime x</b></tt>
<blockquote>  	Set the hop time (which corresponds approximately to the average
		density of Partial envelope Breakpoint data) for this Analyzer.
	   
</blockquote>

<p><tt><b>setSidelobeLevel x</b></tt>
<blockquote>  	
Set the sidelobe attenutation level for the Kaiser analysis window in
positive dB. Larger numbers (e.g. 90) give very good sidelobe 
rejection but cause the window to be longer in time. Smaller numbers 
(like 60) raise the level of the sidelobes, increasing the likelihood
of frequency-domain interference, but allow the window to be shorter
in time.
</blockquote>

<p><tt><b>setWindowWidth x</b></tt>
<blockquote>  	Set the frequency-domain main lobe width (measured between 
		zero-crossings) of the analysis window used by this Analyzer. 				
	   
</blockquote>

<a name="s1_5_">
<h3>1.3. class Breakpoint</h3></a>
	A Breakpoint represents a single breakpoint in the time-varying
	frequency, amplitude, and bandwidth envelope of a Reassigned 
	Bandwidth-Enhanced Partial.<p>
	
	Instantaneous phase is also stored, but is only used at the onset of 
	a partial, or when it makes a transition from zero to nonzero amplitude.<p>

	A Partial represents a Reassigned Bandwidth-Enhanced model component.
	For more information about Bandwidth-Enhanced Partials and the  
	Reassigned Bandwidth-Enhanced Additive Sound Model, refer to
	the Loris website: www.cerlsoundgroup.org/Loris/
<p><tt><b>Breakpoint name f a b ?p? </b></tt>
<blockquote>  	Return a new Breakpoint having the specified frequency
		amplitude, bandwidth, and (optionally, defaults to zero)
		phase.
	   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Delete this Breakpoint.
	   
</blockquote>

<p><tt><b>amplitude</b></tt>
<blockquote>  	Return the amplitude of this Breakpoint. 
	   
</blockquote>

<p><tt><b>bandwidth</b></tt>
<blockquote>  	Return the bandwidth of this Breakpoint. 
	   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Return a new Breakpoint that is a copy of this 
			Breakpoint (i.e. has identical parameter values).
		   
</blockquote>

<p><tt><b>equals other</b></tt>
<blockquote>  	Return true (1) if this Breakpoint is equal to the
			other. Breakpoints are equal is they have identical 
			parameter values.
		   
</blockquote>

<p><tt><b>frequency</b></tt>
<blockquote>  	Return the frequency of this Breakpoint. 
	   
</blockquote>

<p><tt><b>phase</b></tt>
<blockquote>  	Return the phase of this Breakpoint. 
	   
</blockquote>

<p><tt><b>setAmplitude x</b></tt>
<blockquote>  	Assign the amplitude of this Breakpoint. 
	   
</blockquote>

<p><tt><b>setBandwidth x</b></tt>
<blockquote>  	Assign the bandwidth of this Breakpoint. 
	   
</blockquote>

<p><tt><b>setFrequency x</b></tt>
<blockquote>  	Assign the frequency of this Breakpoint. 
	   
</blockquote>

<p><tt><b>setPhase x</b></tt>
<blockquote>  	Assign the phase of this Breakpoint. 
	   
</blockquote>

<a name="s1_7_">
<h3>1.4. class BreakpointEnvelope</h3></a>
	A BreakpointEnvelope represents a linear segment breakpoint 
	function with infinite extension at each end (that is, the 
	values past either end of the breakpoint function have the 
	values at the nearest end).
<p><tt><b>BreakpointEnvelope name </b></tt>
<blockquote>  	Construct and return a new BreakpointEnvelope having no 
		breakpoints and an implicit value of 0. everywhere, 
		until the first breakpoint is inserted.			
	   
</blockquote>

<p><tt><b>BreakpointEnvelopeWithValue initialValue </b></tt>
<blockquote>  	Construct and return a new BreakpointEnvelope having a 
	single breakpoint at 0. having the specified initialValue.
   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Destroy this BreakpointEnvelope. 								
	   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Construct and return a new BreakpointEnvelope that is
		a copy of this BreapointEnvelope (has the same value
		as this BreakpointEnvelope everywhere).			
	   
</blockquote>

<p><tt><b>insertBreakpoint time value</b></tt>
<blockquote>  	Insert a breakpoint representing the specified (time, value) 
		pair into this BreakpointEnvelope. If there is already a 
		breakpoint at the specified time, it will be replaced with 
		the new breakpoint.
	   
</blockquote>

<p><tt><b>valueAt time</b></tt>
<blockquote>  	Return the interpolated value of this BreakpointEnvelope at 
		the specified time.							
	   
</blockquote>

<a name="s1_3_">
<h3>1.5. class Partial</h3></a>
	A Partial represents a Reassigned Bandwidth-Enhanced model component.
	A Partial consists of a trio of synchronous, non-uniformly-
	sampled breakpoint envelopes representing the time-varying 
	frequency, amplitude, and noisiness of a single bandwidth-
	enhanced sinusoid.<p>
	
	For more information about Bandwidth-Enhanced Partials and the  
	Reassigned Bandwidth-Enhanced Additive Sound Model, refer to
	the Loris website: www.cerlsoundgroup.org/Loris/
<p><tt><b>Partial name </b></tt>
<blockquote>  	Return a new, empty (no Breakpoints) Partial.
	   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Delete this Partial reference (doesn't remove it from the PartialList).
	   
</blockquote>

<p><tt><b>amplitudeAt time</b></tt>
<blockquote>   	Return this Partial's interpolated amplitude at the specified time.
	   
</blockquote>

<p><tt><b>bandwidthAt time</b></tt>
<blockquote>   	Return this Partial's interpolated bandwidth at the specified time.
	   
</blockquote>

<p><tt><b>begin</b></tt>
<blockquote>  	Return a PartialIterator refering to the first Breakpoint 
		in this Partial.
	   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Return a new Partial that is a copy of this 
			Partial (i.e. has he same label and an identical
			Breakpoint entvelope.
		   
</blockquote>

<p><tt><b>duration</b></tt>
<blockquote>   	Return this Partial's duration.
	   
</blockquote>

<p><tt><b>end</b></tt>
<blockquote>  	Return a PartialIterator refering to the end of this Partial (an invalid
		element after the last valid Breakpoint).
	   
</blockquote>

<p><tt><b>endTime</b></tt>
<blockquote>   	Return this Partial's end time.
	   
</blockquote>

<p><tt><b>erase pos</b></tt>
<blockquote>   	Erase the Breakpoint at the position of the 
		given iterator (invalidating the iterator).
	   
</blockquote>

<p><tt><b>equals other</b></tt>
<blockquote>  	Return true (1) if this Partial is equal to the other. 
			Partials are equal is they have the same label and the
			same Breakpoint envelope.
		   
</blockquote>

<p><tt><b>findAfter time</b></tt>
<blockquote>  	Return the insertion position for a Breakpoint at
		the specified time (that is, the position of the first
		Breakpoint at a time later than the specified time).
	   
</blockquote>

<p><tt><b>findNearest time</b></tt>
<blockquote>  	Return the insertion position for the Breakpoint nearest
		the specified time.
	   
</blockquote>

<p><tt><b>frequencyAt time</b></tt>
<blockquote>   	Return this Partial's interpolated frequency at the specified time.
	   
</blockquote>

<p><tt><b>label</b></tt>
<blockquote>   	Return this Partial's label.
	   
</blockquote>

<p><tt><b>initialPhase</b></tt>
<blockquote>   	Return this Partial's starting phase.
	   
</blockquote>

<p><tt><b>insert time bp</b></tt>
<blockquote>  	Make a copy of bp and insert it at time (seconds),
		return an iterator refering to the inserted Breakpoint.
	   
</blockquote>

<p><tt><b>numBreakpoints</b></tt>
<blockquote>   	Return this Partial's number of Breakpoints.
	   
</blockquote>

<p><tt><b>phaseAt time</b></tt>
<blockquote>   	Return this Partial's interpolated phase at the specified time.
	   
</blockquote>

<p><tt><b>setLabel l</b></tt>
<blockquote>  	Assign a new label to this Partial.
	   
</blockquote>

<p><tt><b>startTime</b></tt>
<blockquote>   	Return this Partial's start time.
	   
</blockquote>

<a name="s1_4_">
<h3>1.6. class PartialIterator</h3></a>
	A PartialIterator represents an iterator on a Partial.<p>
	
	PartialIterators can only be obtained from their subject 
	Partial, through the begin and end methods of Partial, 
	and by copying, through the PartialIterator copy method.
	PartialIterators are used to access individual Breakpoints
	in Partial Breakpoint envelopes, and the times of those 
	Breakpoints.<p>
	
	PartialIterators are valid only as long as their subject
	Partial exists. In languages with some form of grabage 
	collection, this means that a reference to the Partial 
	must be maintained in order to iterate. If that reference is
	lost, the Partial will be deleted, and the iterators will
	refer to free memory. By extension, if the Partial is an
	element of a PartialList, a reference to the PartialList
	must be maintained.<p>
	
	PartialIterators are also invalidated when the Breakpoint 
	they reference is erased from the Partial. Erasure does not 
	invalidate any other PartialIterators, refering to other 
	Breakpoints. The validity of an iterator can be verified using
	the isInRange method.
<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Destroy this PartialIterator (doesn't affect the corresponding 
			Breakpoint).
		   
</blockquote>

<p><tt><b>breakpoint</b></tt>
<blockquote>        Return (a reference to) the Breakpoint at the position of this
			PartialIterator.
		   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Return a new PartialIterator that is a copy of this 
			PartialIterator (i.e. refers to the same position
			in the same Partial).
		   
</blockquote>

<p><tt><b>equals other</b></tt>
<blockquote>  	Return true (1) if this PartialIterator is equal to the
			other. PartialIterators are equal is they refer to the
			same position (Breakpoint) in the same Partial.
		   
</blockquote>

<p><tt><b>isInRange begin end</b></tt>
<blockquote>  	Return true (1) is this iterator is within the half-open iterator
		 	range bounded by begin and end, and false otherwise. This method
		 	can be used to check the validity of an iterator -- call with 
		 	begin and end methods of the Partial as arguments.
		    
</blockquote>

<p><tt><b>next</b></tt>
<blockquote>  	Increment (advance) this PartialIterator. Return self.
		   
</blockquote>

<p><tt><b>prev</b></tt>
<blockquote>  	Decrement (advance by -1) this PartialIterator. Return self.
		   
</blockquote>

<p><tt><b>time</b></tt>
<blockquote>  	Return the time of the Breakpoint at the position of this
		PartialIterator.
		   
</blockquote>

<a name="s1_1_">
<h3>1.7. class PartialList</h3></a>
	A PartialList represents a collection of Bandwidth-Enhanced 
	Partials, each having a trio of synchronous, non-uniformly-
	sampled breakpoint envelopes representing the time-varying 
	frequency, amplitude, and noisiness of a single bandwidth-
	enhanced sinusoid.<p>

	For more information about Bandwidth-Enhanced Partials and the  
	Reassigned Bandwidth-Enhanced Additive Sound Model, refer to
	the Loris website: www.cerlsoundgroup.org/Loris/
<p><tt><b>PartialList name </b></tt>
<blockquote>  	Return a new empty PartialList.
		   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Destroy this PartialList.
		   
</blockquote>

<p><tt><b>begin</b></tt>
<blockquote>  	Return an iterator refering to the first Partial in this PartialList.
	   
</blockquote>

<p><tt><b>clear</b></tt>
<blockquote>  	Remove (and destroy) all the Partials from this PartialList,
		leaving it empty.
	   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Return a new PartialList that is a copy of this 
			PartialList (i.e. has identical Partials).
		   
</blockquote>

<p><tt><b>end</b></tt>
<blockquote>  	Return an iterator refering to the end of this PartialList (an invalid
		element after the last valid Partial).
	   
</blockquote>

<p><tt><b>erase position</b></tt>
<blockquote>  	Remove the element at the position indicated by the 
		PartialListIterator, position. After this operation,
		the PartialListIterator position is invalid, but all
		other iterators refering to other positions in the
		PartialList are unaffected.
	   
</blockquote>

<p><tt><b>insert position partial</b></tt>
<blockquote>  	Insert a copy of the given Partial into this PartialList at
		the position indicated by the PartialListIterator position.
		Returns a PartialListIterator refering to the position of the
		newly-inserted Partial.
	   
</blockquote>

<p><tt><b>size</b></tt>
<blockquote>  	Return the number of Partials in this PartialList.
	   
</blockquote>

<p><tt><b>splice position list</b></tt>
<blockquote>  	Splice all the Partials in the specified PartialList into
		this PartialList at the position indicated by the PartialListIterator
		position. Leaves the other PartialList empty.
	   
</blockquote>

<p><tt><b>timespan</b></tt>
<blockquote>  	Return the minimum start time and maximum end time
		 	of all Partials in this PartialList in a tuple.
	   
</blockquote>

<a name="s1_2_">
<h3>1.8. class PartialListIterator</h3></a>
	A PartialListIterator represents an iterator on a PartialList.
	Its interface reflects the interface of the underlying std::list
	iterator.<p>
	
	PartialListIterators can only be obtained from their subject 
	PartialList, through the begin and end methods of PartialList, 
	and by copying, through the PartialListIterator copy method.
	PartialListIterators are used to access individual elements
	(Partials) of a PartialList.<p>
	
	PartialListIterators are valid only as long as their subject
	PartialList exists. In languages with some form of grabage 
	collection, this means that a reference to the PartialList 
	must be maintained in order to iterate. If that reference is
	lost, the PartialList will be deleted, and the iterators will
	refer to free memory. <p>
	
	PartialListIterators are also invalidated when PartialList element 
	they reference is erased from the PartialList. Erasure does not 
	invalidate any other PartialListIterators, refering to other 
	elements. The validity of an iterator can be verified using the
	isInRange method.
<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Destroy this PartialListIterator (doesn't affect the corresponding 
			Partial).
		   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Return a new PartialListIterator that is a copy of this 
			PartialListIterator (i.e. refers to the same position
			in the same PartialList).
		   
</blockquote>

<p><tt><b>equals other</b></tt>
<blockquote>  	Return true (1) if this PartialListIterator is equal to the
			other. PartialListIterators are equal if they refer to the
			same position in the same PartialList.
		   
</blockquote>

<p><tt><b>isInRange begin end</b></tt>
<blockquote>  	Return true (1) if this iterator is within the half-open iterator
		 	range bounded by begin and end, and false otherwise. This method
		 	can be used to check the validity of an iterator -- call with 
		 	begin and end methods of the PartialList as arguments.
		    
</blockquote>

<p><tt><b>next</b></tt>
<blockquote>  	Return an iterator refering to the next position in the
			PartialList.
		   
</blockquote>

<p><tt><b>partial</b></tt>
<blockquote>  	Return (a reference to) the Partial at the position of this
			PartialListIterator.
		   
</blockquote>

<p><tt><b>prev</b></tt>
<blockquote>  	Return an iterator refering to the previous position
			in the PartialList.
		   
</blockquote>


<a name="s1_8_">
<h3>1.9. class SampleVector</h3></a>
	A SampleVector represents a vector of floating point samples of
	an audio waveform. In Loris, the samples are assumed to have 
	values on the range (-1., 1.) (though this is not enforced or 
	checked). 
<p><tt><b>SampleVector name ?size? </b></tt>
<blockquote>  	Return a new SampleVector having the specified number of samples,
		all of whose value is 0. <p>
		
		If no size is specified, 0 is assumed.
	   
</blockquote>

<p><tt><b>rename obj {}</b></tt>
<blockquote>  	Destroy this SampleVector.
	    
</blockquote>

<p><tt><b>clear</b></tt>
<blockquote>  	Remove all samples from this SampleVector, and set its
	 	size to zero.
	   
</blockquote>

<p><tt><b>copy</b></tt>
<blockquote>  	Return a new SampleVector that is a copy of this 
		SampleVector, having the same number of samples, 
		and samples at every position in the copy having 
		the same value as the corresponding sample in
		this SampleVector.
	   
</blockquote>

<p><tt><b>getAt idx</b></tt>
<blockquote>  	Return the value of the sample at the given position (index) in
		this SampleVector.
	   
</blockquote>

<p><tt><b>resize size</b></tt>
<blockquote>  	Change the number of samples represented by this SampleVector. If
		the given size is greater than the current size, all new samples 
		will have value 0. If the given size is less than the current 
		size, then samples in excess of the given size are removed.
	   
</blockquote>

<p><tt><b>setAt idx x</b></tt>
<blockquote>  	Set the value of the sample at the given position (index) in
		this SampleVector.
	   
</blockquote>

<p><tt><b>size</b></tt>
<blockquote>  	Return the number of samples represented by this SampleVector.
	   
</blockquote>

<a name="s2_">
<hr><h2>2. Non-object-based procedures</h2></a>
<p>
	Operations in Loris that need not be accessed though object
	interfaces are represented as simple functions.
<p><tt><b>channelize partials refFreqEnvelope refLabel </b></tt>
<blockquote>  	Label Partials in a PartialList with the integer nearest to
		the amplitude-weighted average ratio of their frequency envelope
		to a reference frequency envelope. The frequency spectrum is 
		partitioned into non-overlapping channels whose time-varying 
		center frequencies track the reference frequency envelope. 
		The reference label indicates which channel's center frequency
		is exactly equal to the reference envelope frequency, and other
		channels' center frequencies are multiples of the reference 
		envelope frequency divided by the reference label. Each Partial 
		in the PartialList is labeled with the number of the channel
		that best fits its frequency envelope. The quality of the fit
		is evaluated at the breakpoints in the Partial envelope and
		weighted by the amplitude at each breakpoint, so that high-
		amplitude breakpoints contribute more to the channel decision.
		Partials are labeled, but otherwise unmodified. In particular, 
		their frequencies are not modified in any way.
	   
</blockquote>

<p><tt><b>createFreqReference partials minFreq maxFreq numSamples </b></tt>
<blockquote>  	Return a newly-constructed BreakpointEnvelope by sampling the 
	frequency envelope of the longest Partial in a PartialList. 
	Only Partials whose frequency at the Partial's loudest (highest 
	amplitude) breakpoint is within the given frequency range are 
	considered. <p>
	
	If the number of sample points is not specified, then the
	longest Partial's frequency envelope is sampled every 30 ms
	(No fewer than 10 samples are used, so the sampling maybe more
	dense for very short Partials.) <p>
	
	For very simple sounds, this frequency reference may be a 
	good first approximation to a reference envelope for
	channelization (see channelize()).
   
</blockquote>

<p><tt><b>crop partials begintime endtime </b></tt>
<blockquote>  	Trim Partials by removing Breakpoints outside a specified time span.
	Insert a Breakpoint at the boundary when cropping occurs.
</blockquote>


<p><tt><b>dilate partials initial_times target_times </b></tt>
<blockquote>  	Dilate Partials in a PartialList according to the given 
		initial and target time points. Partial envelopes are 
		stretched and compressed so that temporal features at
		the initial time points are aligned with the final time
		points. Time points are sorted, so Partial envelopes are 
		are only stretched and compressed, but breakpoints are not
		reordered. Duplicate time points are allowed. There must be
		the same number of initial and target time points.<p>
		
		The time points are passed as strings; convert any native
		collection to a string representation, numerical elements
		will be extracted, other characters will be ignored.
	   
</blockquote>

<p><tt><b>distill partials </b></tt>
<blockquote>  	Distill labeled (channelized)  Partials in a PartialList into a 
	PartialList containing a single (labeled) Partial per label. 
	The distilled PartialList will contain as many Partials as
	there were non-zero labels (non-empty channels)
	in the original PartialList. Additionally, unlabeled (label 0) Partials are 
	"collated" into groups of temporally non-overlapping Partials,
	assigned an unused label, and fused into a single Partial per
	group.
	   
</blockquote>

<p><tt><b>exportAiff path samples samplerate nchannels bitsPerSamp </b></tt>
<blockquote>  	Export audio samples stored in a SampleVector to an AIFF file
		having the specified number of channels and sample rate at the 
		given file path (or name). The floating point samples in the 
		SampleVector are clamped to the range (-1.,1.) and converted 
		to integers having bitsPerSamp bits.
	   
</blockquote>

<p><tt><b>exportSdif path partials </b></tt>
<blockquote>  	Export Partials in a PartialList to a SDIF file at the specified
		file path (or name). SDIF data is written in the 1TRC format.  
		For more information about SDIF, see the SDIF website at:
			www.ircam.fr/equipes/analyse-synthese/sdif/  
	   
</blockquote>

<p><tt><b>exportSpc path partials midiPitch ?enhanced? ?endApproachTime? </b></tt>
<blockquote>  	Export Partials in a PartialList to a Spc file at the specified file
		path (or name). The fractional MIDI pitch must be specified. The optional
		enhanced parameter defaults to true (for bandwidth-enhanced spc files), 
		but can be specified false for pure-sines spc files. The optional 
		endApproachTime parameter is in seconds; its default value is zero (and 
		has no effect). A nonzero endApproachTime indicates that the PartialList does 
		not include a release, but rather ends in a static spectrum corresponding 
		to the final breakpoint values of the partials. The endApproachTime
		specifies how long before the end of the sound the amplitude, frequency, 
		and bandwidth values are to be modified to make a gradual transition to 
		the static spectrum.
	   
</blockquote>

<p><tt><b>extractLabeled partials label</b></tt>
<blockquote>  	Extract Partials in the source PartialList having the specified
    label and return them in a new PartialList.	   
</blockquote>

<p><tt><b>importSdif path </b></tt>
<blockquote>  	Import Partials from an SDIF file at the given file path (or 
	name), and return them in a PartialList.
	For more information about SDIF, see the SDIF website at:
		www.ircam.fr/equipes/analyse-synthese/sdif/  
   
</blockquote>

<p><tt><b>importSpc path </b></tt>
<blockquote>  	Import Partials from an Spc file at the given file path (or 
	name), and return them in a PartialList.
   
</blockquote>

<p><tt><b>morph src0 src1 ffreq famp fbw </b></tt>
<blockquote>  	Morph labeled Partials in two PartialLists according to the
	given frequency, amplitude, and bandwidth (noisiness) morphing
	envelopes, and return the morphed Partials in a PartialList. 
	Loris morphs Partials by interpolating frequency, amplitude, 
	and bandwidth envelopes of corresponding Partials in the
	source PartialLists. For more information about the Loris
	morphing algorithm, see the Loris website: 
	www.cerlsoundgroup.org/Loris/
   
</blockquote>

<p><tt><b>resample partials interval </b></tt>
<blockquote>  	Resample all Partials in a PartialList using the specified
	sampling interval, so that the Breakpoints in the Partial 
	envelopes will all lie on a common temporal grid.
	The Breakpoint times in resampled Partials will comprise a  
	contiguous sequence of integer multiples of the sampling interval,
	beginning with the multiple nearest to the Partial's start time and
	ending with the multiple nearest to the Partial's end time. Resampling
	is performed in-place. 
</blockquote>

<p><tt><b>scaleAmp partials ampEnv </b></tt>
<blockquote>  	Scale the amplitude of the Partials in a PartialList according 
		to an envelope representing a time-varying amplitude scale value.
	   
</blockquote>

<p><tt><b>scaleBandwidth partials bwEnv </b></tt>
<blockquote>  	Scale the bandwidth of the Partials in a PartialList according 
	to an envelope representing a time-varying bandwidth scale value.
	   
</blockquote>

<p><tt><b>scaleFrequency partials freqEnv </b></tt>
<blockquote>  	Scale the frequency of the Partials in a PartialList according 
	to an envelope representing a time-varying frequency scale value.
	   
</blockquote>

<p><tt><b>scaleNoiseRatio partials noiseEnv </b></tt>
<blockquote>  	Scale the relative noise content of the Partials in a PartialList 
		according to an envelope representing a (time-varying) noise energy 
		scale value.
	   
</blockquote>

<p><tt><b>shiftPitch partials pitchEnv </b></tt>
<blockquote>  	Shift the pitch of all Partials in a PartialList according to 
		the given pitch envelope. The pitch envelope is assumed to have 
		units of cents (1/100 of a halfstep).
	   
</blockquote>

<p><tt><b>shiftTime partials offset </b></tt>
<blockquote>  	Shift the time of all the Breakpoints in a Partial by a 
	constant amount.
	   
</blockquote>

<p><tt><b>synthesize partials srate </b></tt>
<blockquote>  	Synthesize Partials in a PartialList at the given sample
	rate, and return the (floating point) samples in a SampleVector.
	The SampleVector is sized to hold as many samples as are needed 
	for the complete synthesis of all the Partials in the PartialList. 
   
</blockquote>

<p><tt><b>sift partials </b></tt>
<blockquote> Eliminate overlapping Partials having the same label
    (except zero). If any two partials with same label
    overlap in time, keep only the longer of the two.
    Set the label of the shorter duration partial to zero.

</blockquote>

<p><tt><b>version</b></tt>
<blockquote>  	Return a (constant) string specifying the Loris version number.
	   
</blockquote>

<hr align="Center" size="3">    
<table cellspacing="0" cellpadding="1" width="100%">
  <tbody>
	<tr>
	  <td valign="Top">Last updated on 3 May 2002
	  </td>
	  <td align="Right" valign="Top"><a href="http://www.cerlsoundgroup.org/Loris/">www.cerlsoundgroup.org/Loris/</a>
	  </td>
	</tr>       
  </tbody>    

</body>
</html>
